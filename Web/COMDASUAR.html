<!DOCTYPE html>
<html>
<head>
	 <meta charset="utf-8">
	<!-- Boostrap CS library -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

	<!-- jQuery library -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	
	<!-- P5 library -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.10.2/p5.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.6.1/addons/p5.dom.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.6.1/addons/p5.sound.min.js"></script>
    <!-- -->

   
	<link href="/style/MIDIPlayer.css" rel="stylesheet" type="text/css" />
	 
	<script src="js/inc/shim/Base64.js" type="text/javascript"></script>
	<script src="js/inc/shim/Base64binary.js" type="text/javascript"></script>
	<script src="js/inc/shim/WebAudioAPI.js" type="text/javascript"></script>
	<script src="js/inc/shim/WebMIDIAPI.js" type="text/javascript"></script>
	<!-- jasmid package -->
	<script src="js/inc/jasmid/stream.js"></script>
	<script src="js/inc/jasmid/midifile.js"></script>
	<script src="js/inc/jasmid/replayer.js"></script>
	<!-- midi.js package -->
	<script src="js/midi/audioDetect.js" type="text/javascript"></script>
	<script src="js/midi/gm.js" type="text/javascript"></script>
	<script src="js/midi/loader.js" type="text/javascript"></script>
	<script src="js/midi/plugin.audiotag.js" type="text/javascript"></script>
	<script src="js/midi/plugin.webaudio.js" type="text/javascript"></script>
	<script src="js/midi/plugin.webmidi.js" type="text/javascript"></script>
	<script src="js/midi/player.js" type="text/javascript"></script>
	<script src="js/midi/synesthesia.js" type="text/javascript"></script>
	<!-- utils -->
	<script src="js/util/dom_request_xhr.js" type="text/javascript"></script>
	<script src="js/util/dom_request_script.js" type="text/javascript"></script>
	<!-- includes -->



	<script src="js/text2COMDASUAR.js"></script>
	
	<script src="../ComdasuarLib.js"></script>

	<script src="../asuar.js"></script>
	<script src="../bancoDeSecuenciasV0.1.js"></script>

	<link rel="stylesheet" href="style/style.css">

	<title>COMDASUAR</title>
</head>
  <body>
    
  	<div class = "container center bordeRedondo" >

  		<div class="row">
			<h1>Un sistema para <i>emular</i> un sistema para hacer música por computadora</h1>
		</div>

		<div class="row">

		  	<div class="col-5">
	  			<img  src="http://www.arteymedios.org/media/k2/items/cache/27b4275cdf67fac8ef7af010ec180724_M.jpg">
	  			 <figcaption><small>José Vicente Asuar usando el COMDASUAR. Fotografía del LP<br> Así habló el computador de José Vicente Asuar, Santiago de Chile, 1978.</small></figcaption>
	  		</div>

		  	<div class="col-6">
		  		<p>"Este instrumento, llamado Computador Musical Digital Analógico “Asuar o COMDASUAR, está basado en el microprocesador INTEL 8080. Y tiene como principales rasgos musicales, el que puede reproducir cualquier partitura musical en forma automática, sin necesidad de una ejecución humana."(Asuar, 1980).</p>
			</div>



  		</div>
	  	 

  		<div class="row">
  			<div class="col-12">
	  		<h1>Nomenclatura COMDASUAR</h1>
	  		</div>
	  		<div class="col-12">
	  		<p>Cada tono se expresa por su altura y duración: La altura se indica con tres datos: <strong>Octava</strong>* (Un número de O a 7), <strong>Grado de la escala</strong> (nombre de la nota) y <strong>Alteración</strong>*.<br>
	  		</p>
	  		<p>Las duraciones se indican inmediatamente después de la altura. Es posible aplicar grupos irregulares anteponiendo un número al código rítmico (ej. 3C = corchea de tresillo). <br>Las duraciones pueden sumarse, por ejemplo una negra con punto puede escribirse como "NC" y como "NP"; una blanca con puntillo es "BP", pero también "BN" o incluso "NNN".<br></p>
	  		<p><small>* Si este elemento se repite, no es necesario escribirlo en cada nota.</small>
	  		<br>
	  		</div>
  		</div>

  		<div class="row ">
  		<div class="col-2">
	  		<table>
	  			<thead>
	  				<tr>
	  					<th>Octava</th>
	  					<th>Código</th>
	  				</tr>
	  			</thead>
	  			<tr><td>Agudo</td><td>4 a 7</td></tr>
	  			<tr><td>Central</td><td>4</td></tr>
	  			<tr><td>Grave</td><td>0 a 3</td></tr>
	  		</table>
	  		</div>

	  		<div class="col-2">
	  		<table>
	  			<thead>
	  				<tr>
	  					<th>Altura</th>
	  					<th>Código</th>
	  				</tr>
	  			</thead>
	  			<tr><td>Do</td><td>C</td></tr>
	  			<tr><td>Re</td><td>D</td></tr>
	  			<tr><td>Mi</td><td>E</td></tr>
	  			<tr><td>Fa</td><td>F</td></tr>
	  			<tr><td>Sol</td><td>G</td></tr>
	  			<tr><td>La</td><td>A</td></tr>
	  			<tr><td>Si</td><td>B</td></tr>
	  		</table>
	  		</div>


	  		<div class="col-2">
		  		<table>
		  			<thead>
		  				<tr>
		  					<th>Alteración</th>
		  					<th>Código</th>
		  				</tr>
		  			</thead>
		  			<tr><td>#</td><td>S</td></tr>
		  			<tr><td>b</td><td>W</td></tr>
		  			<tr><td>becuadro</td><td>Q</td></tr>
		  			<tr><td>+1/4 de tono</td><td>U</td></tr>
		  			<tr><td>+3/4 de tono</td><td>T</td></tr>
		  			<tr><td>-1/4 de tono</td><td>V</td></tr>
		  			<tr><td>-3/4</td><td>R</td></tr>
		  		</table>
	  		</div>


	  		<div class="col-2">
	  		<table>
	  			<thead>
	  				<tr>
	  					<th>Gr.Irregular</th>
	  					<th>Código</th>
	  				</tr>
	  			</thead>
	  			<tr><td>Tresillo</td><td>3</td></tr>
	  			<tr><td>Quintillo</td><td>5</td></tr>
	  			<tr><td>Septillo</td><td>7</td></tr>
	  		</table>
	  		</div>

	  		<div class="col-2">
		  		<table>
		  			<thead>
		  				<tr>
		  					<th>Duración</th>
		  					<th>Código</th>
		  				</tr>
		  			</thead>
		  			<tr><td>Semifusa</td><td>M</td></tr>
		  			<tr><td>Fusa</td><td>F</td></tr>
		  			<tr><td>Semicorchea</td><td>S</td></tr>
		  			<tr><td>Corchea</td><td>C</td></tr>
		  			<tr><td>Negra</td><td>N</td></tr>
		  			<tr><td>Blanca</td><td>B</td></tr>
		  			<tr><td>Redonda</td><td>R</td></tr>
		  			<tr><td>Lunga</td><td>L</td></tr>
		  			<tr><td>Puntillo</td><td>P</td></tr>
		  		</table>
	  		</div>
  		</div>

  		<div class="col-12">

  			<h1>Modos de introducción de datos musicales</h1>
  			<div class ="row">
	  			<div class="col-12">
		  		<p>La nomenclatura musical del COMDASUAR permite especificar diferentes modos de introducción de datos en caso de redundancia.<br>
		  		</p>
		  		</div>
		  	</div>

		  	<div class ="row">
		  		<div class="col-2">
		  			<p><strong>Modo <code>J0</code></p></strong>
		  		</div>
		  		<div class="col-8">
		  			<p>Es el modo normal visto en los ejemplos anteriores. Para cada tono se indica su altura y duración.</p>
		  		</div>
	  		</div>

	  		<div class ="row">
		  		<div class="col-2">
		  			<p><strong>Modo <code>J1</code></strong>
		  			<br> Duración constante</p>
		  		</div>
		  		<div class="col-8">
		  			<p>Se indica al comienzo el valor dc la duración común que tiene una serie de tonos. A continuación se indica sólo la altura de cada tono.</p>
		  		</div>
	  		</div>

	  		<div class ="row">
		  		<div class="col-2">
		  			<p><strong>Modo <code>J2</code></strong>
		  			<br>Altura constante</p></p>
		  		</div>
		  		<div class="col-8">
		  			<p>Se indica al comienzo el valor del tono que se repite, siguiendo una secuencia rítmica. Después se indica el valor de cada duración</p>
		  		</div>
	  		</div>

	  		<div class ="row">
		  		<div class="col-2">
		  			<p><strong>Modo <code>J4</code></strong>
		  			<br>Reiteración</p></p>
		  		</div>
		  		<div class="col-8">
		  			<p>Este modo se utiliza cuando una suce- sión de tonos se repite varias veces. Se indica primero el número de veces que se repite, y después, la sucesión de tonos, la que es delimitada por otro indicador de modo.</p>
		  		</div>
	  		</div>

	  		<div class ="row">
		  		<div class="col-2">
		  			<p><strong>Modo <code>J5</code></strong>
		  			<br>Repite pasaje</p></p>
		  		</div>
		  		<div class="col-8">
		  			<p>Este modo inserta una lista de tonos que ya ha sido escrita en otra locación. Se indican los números del primero y último de los tonos del pasaje que se repetirá.
		  			<br> Obviamente el Modo 5 se utiliza para repetición de pasajes de mayor extensión que el indicado en el ejem- plo. Es especialmente apto para reexposiciones temá- ticas, rondó o estribillos, etc.</p>
		  		</div>
	  		</div>

  		</div>

	</div>


  	<div class = "container center bordeRedondo COMDASUARcontainer">

  		<h1>Emulador COMDASUAR</h1>
  		<!-- ENTRADA DE CÓDIGO ASUAR-->
  		<div class="row">
  			<div class="col-10">
  				<textarea id="textoDeEntrada" class="form-control txtArea" name="textoDeEntrada" rows="20" cols="10">4c n
j1 c
e
g
5c
4b
a
b
j0
5c b
4g b
j5 1 7
5c r </textarea>
  			</div>

  			<div class="col-1">
  				<div class="mini-box">
					<button class="btn-submit" id="btnCompilar" name="btnCompilar" onclick="compilarTexto()">Compilar</button>
				</div>
			</br>
				<div class="mini-box">
					<button class="btn-submit" id="btnPlayNotita" name="btnPlayNotita" onclick="playNotita()">test</button>
				</div>
			</br>
				<div class="mini-box">
					<select class="form-control"  id='bancoDeSeq' name='bancoDeSeq' onClick="">
						 </select>
				</div>

				<div class="mini-box">
					<button class="btn btn-default" id="guardarSeqEnBanco" name="guardarSeqEnBanco" onclick="guardarSeqEnBancoYSelect()">Almacenar nueva secuencia</button>
				</div>

				<div class="mini-box">
					<button class="btn btn-default" id="cargarSeqDesdeBanco" name="cargarSeqDesdeBanco" onclick="cargarSeqDesdeBanco()">Cargar secuencia</button>
				</div>

 				<div class="mini-box">
					<table>
						<thead>
						    <tr>
						      <th>Nota</th>
						      <th>Vel.</th>
						      <th>Dur.Ms.</th>
						   </tr>
						</thead>
						<tr>
						<td><code id="noteEventNote" name="noteEventNote">0</code></td>
						<td><code id="noteEventVel" name="noteEventVel">0</code></td>
						<td><code id="noteEventDur" name="noteEventDur">0</code></td>
						</tr>
					</table>
				</div>
			</div>
			
			<div class="row">
				<div class="col">
					<input id="files" name="files" type="file" value="Subir código" />
				</div>
			</div>

			<div class="row" id="sketch-holder">
				<div class="col">
					<script type="text/javascript" src="js/reproductorDeSeq.js"></script>
				</div>
			</div>

		</div>
						
		<br>
		<!-- TABLA PARA VISUALIZAR DATOS DURANTE REPRODUCCIÓN -->
			
	</div>


	<footer>
	<div class="container center_div">
		<p>Proyecto desarrollado por <br>Diego de la Fuente Curaqueo 
			<br> diego.delafuente@ug.uchile.cl</p>
	</div>
	</footer>
  </body>
</html>